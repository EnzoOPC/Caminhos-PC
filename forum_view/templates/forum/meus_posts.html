{% extends 'home_view/base.html' %}

{% block title %}Meus Posts{% endblock %}

{% block content %}
<div class="post-container d-flex flex-column align-items-center gap-4 mt-4">
    <a href="{% url 'forum_view:forum' %}" class="btn btn-secondary">← Voltar para o Fórum</a>
    <h2>Meus Posts</h2>
    
    {% for post in posts %}
        <div class="post-card p-3 shadow rounded text-center" style="width: 600px;">
            {% if post.imagem %}
            <div class="d-flex justify-content-center mb-3">
                <div class="d-flex justify-content-center align-items-center rounded"
                     style="width: 300px; height: 200px; background-color: #f8f9fa;">
                    <img src="{{ post.imagem.url }}" alt="Imagem do Post"
                         style="max-width: 100%; max-height: 100%; object-fit: contain;">
                </div>
            </div>
            {% endif %}
            <h3>{{ post.titulo }}</h3>
            <p>{{ post.descricao|truncatewords:20 }}</p>
            <p><strong>Curtidas:</strong> {{ post.likes }}</p>
            <a class="btn btn-primary" href="{% url 'forum_view:forum_one' post.pk %}">Ver mais</a>
        </div>
    {% empty %}
        <p>Você ainda não criou nenhum post.</p>
    {% endfor %}
</div>
{% endblock %}
